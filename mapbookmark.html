<html>

<head>
	<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css">
</head>
<body>
	<div class="col-md-6">
		<div id="map" style="height: 400px;
        width: 100%;"></div>
	</div>
	<div class="col-md-6">
		<input type="text" class="form-control" id="postInput" placeholder="Enter postcode">
		<button type="button" class="btn btn-default" id="button">Bookmark</button>
        <label id="fullAddress" value=""></label>
	</div>




<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.1.1/jquery.min.js"></script>
<script>

var formatA;
var lat1;
var lng1;
var map;
var pos = {lat: -25.363, lng: 131.044}
var postCode = "N77JL";
var marker;
    
function initMap(){

    var geocoder = new google.maps.Geocoder();
    map = new google.maps.Map(document.getElementById('map'), {
      zoom: 4,
      center: pos
    });

            geocoder.geocode({
                  componentRestrictions: {
                    country: 'UK',
                    postalCode: postCode
                  }
                }

                , function (results, status) {
                coords_obj = results[0].formatted_address;
                formatA = coords_obj;
                lat1 = results[0].geometry.location.lat();
                lng1 = results[0].geometry.location.lng();
                console.log("Output: ", coords_obj);
                console.log("lat1: ", lat1);
                console.log("lng1: ", lng1);
                }
            );
    
        }

	$( "#button" ).click(function(){
	 		postCode = $('#postInput').val() 	
	 		console.log("POSTCODE: " + postCode)

	   		// address = {address: "19 Val McKenzie Avenue"};
	  		initMap(postCode);
            pos = {lat: lat1, lng: lng1};
            marker = new google.maps.Marker({
                position: pos,
                map: map
            });
            map.setCenter(pos);
	  		$('fullAddress').text(formatA);	

	});

</script>
<script async defer
    src="https://maps.googleapis.com/maps/api/js?key=AIzaSyDilOsrtSjellp29k9VSJ3Y9GBnIqQkLQY&callback=initMap">
    </script>

</body>

</html>


